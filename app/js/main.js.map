{"version":3,"sources":["main.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"main.js","sourcesContent":["//preloader\r\nwindow.addEventListener('load', () => {\r\n  document.querySelector('.preloader').classList.add('opacity');\r\n  setTimeout(function () {\r\n    document.querySelector('.preloader').style.display = 'none';\r\n  }, 1000)\r\n})\r\n\r\n//colorTheme\r\nconst body = document.body;\r\nconst main = document.querySelector('.main')\r\nconst themeBtn = document.querySelector('.color')\r\nconst themeBtnIcon = document.querySelector('.color i')\r\nconst themeRed = document.querySelector('.theme-red')\r\nconst themeBlue = document.querySelector('.theme-blue')\r\nconst themeGreen = document.querySelector('.theme-green')\r\nconst themePink = document.querySelector('.theme-pink')\r\nconst themeOrange = document.querySelector('.theme-orange')\r\n\r\nconst themeDark = document.querySelector('.color__theme-dark')\r\n\r\nthemeBtnIcon.addEventListener('click', () => {\r\n  themeBtn.classList.toggle('active');\r\n})\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', (event) => {\r\n  if (localStorage.getItem('mode') === 'dark') {\r\n    main.classList.add('dark');\r\n  } else {\r\n    main.classList.remove('dark');\r\n  }\r\n})\r\nthemeDark.addEventListener('click', () => {\r\n  themeDark.classList.toggle('active');\r\n  main.classList.toggle('dark');\r\n  if (main.classList.contains('dark')) {\r\n    localStorage.setItem('mode', 'dark');\r\n  } else {\r\n    localStorage.setItem('mode', '');\r\n  }\r\n})\r\n\r\ndocument.addEventListener('DOMContentLoaded', (event) => {\r\n  if (localStorage.getItem('colorThemes')) {\r\n    body.classList.add(localStorage.getItem('colorThemes'));\r\n  }\r\n})\r\nfunction changeTheme(color) {\r\n  body.className = '';\r\n  body.classList.add(color);\r\n  localStorage.setItem('colorThemes', body.className);\r\n}\r\n\r\n//portfolio item filter\r\n\r\nconst filterContainer = document.querySelector('.portfolio__filter');\r\nconst filterPortfolioItems = document.querySelectorAll('.portfolio__item');\r\nconst filterBtns = filterContainer.children;\r\n\r\nfor (let i = 0;i < filterBtns.length;i++) {\r\n  filterBtns[i].addEventListener('click', function () {\r\n    filterContainer.querySelector('.active').classList.remove('active');\r\n    this.classList.add('active');\r\n\r\n    const filterValue = this.getAttribute('data-filter');\r\n    for (let k = 0;k < filterPortfolioItems.length;k++) {\r\n      if (filterValue === filterPortfolioItems[k].getAttribute('data-category')) {\r\n        filterPortfolioItems[k].classList.remove('hide');\r\n        filterPortfolioItems[k].classList.add('show');\r\n      } else {\r\n        filterPortfolioItems[k].classList.add('hide');\r\n        filterPortfolioItems[k].classList.remove('show');\r\n      }\r\n      if (filterValue === 'all') {\r\n        filterPortfolioItems[k].classList.remove('hide');\r\n        filterPortfolioItems[k].classList.add('show');\r\n      }\r\n    }\r\n  })\r\n}\r\n\r\n//lightbox\r\n\r\nconst portfolioItems = document.querySelectorAll('.portfolio__item');\r\nconst portfolioItemsInner = document.querySelectorAll('.portfolio__item-inner');\r\nconst portfolioTitle = document.querySelectorAll('.portfolio__info-title');\r\n\r\nconst lightbox = document.querySelector('.lightbox');\r\nconst lightboxClose = document.querySelector('.lightbox__close');\r\nconst lightboxImg = document.querySelector('.lightbox__img');\r\nconst lightboxTitle = document.querySelector('.lightbox__title');\r\nconst lightboxDescription = document.querySelector('.lightbox__description');\r\nconst lightboxCounter = document.querySelector('.lightbox__counter');\r\nconst lightboxPrev = document.querySelector('.lightbox__controls-prev');\r\nconst lightboxNext = document.querySelector('.lightbox__controls-next');\r\n\r\nlet count = 0;\r\n\r\nfor (let i = 0;i < portfolioItems.length;i++) {\r\n  portfolioItemsInner[i].addEventListener('click', () => {\r\n    count = i;\r\n    toggleLightbox();\r\n    changeItem();\r\n  })\r\n}\r\n\r\nfunction toggleLightbox() {\r\n  lightbox.classList.add('open');\r\n}\r\n\r\nfunction changeItem() {\r\n  let imgSrc = portfolioItems[count].querySelector('img').getAttribute('src');\r\n  lightboxImg.src = imgSrc;\r\n  lightboxTitle.innerHTML = portfolioItems[count].querySelector('h4').innerHTML + '&nbsp;&nbsp;&nbsp;<i class=\"fa fa-eye\"></i>';\r\n  lightboxTitle.href = portfolioItems[count].querySelector('a').getAttribute('href');\r\n  lightboxDescription.innerHTML = portfolioItems[count].querySelector('p').innerHTML;\r\n  lightboxCounter.innerHTML = `${count + 1} из ${portfolioItems.length}`;\r\n  console.log(portfolioItems[count].querySelector('a').getAttribute('href'));\r\n\r\n}\r\n\r\nlightboxNext.addEventListener('click', () => {\r\n  if (count === portfolioItems.length - 1) {\r\n    count = 0;\r\n  } else {\r\n    count++;\r\n  }\r\n  changeItem();\r\n})\r\n\r\nlightboxImg.addEventListener('click', () => {\r\n  if (count === portfolioItems.length - 1) {\r\n    count = 0;\r\n  } else {\r\n    count++;\r\n  }\r\n  changeItem();\r\n})\r\n\r\nlightboxPrev.addEventListener('click', () => {\r\n  if (count === 0) {\r\n    count = portfolioItems.length - 1;\r\n  } else {\r\n    count--;\r\n  }\r\n  changeItem();\r\n})\r\n\r\n//closeLightbox\r\n\r\nlightboxClose.addEventListener('click', () => {\r\n  lightbox.classList.remove('open');\r\n})\r\n\r\nlightbox.addEventListener('click', (e) => {\r\n  if (e.target === lightbox) {\r\n    lightbox.classList.remove('open');\r\n  }\r\n})\r\n\r\n//linkMenu & moveSection\r\n\r\nconst menuLink = document.querySelectorAll('.aside__item-link');\r\nconst menuItem = document.querySelectorAll('.aside__item');\r\nconst section = document.querySelectorAll('.section');\r\nsection.forEach(item => {\r\n  item.classList.add('fixed');\r\n})\r\nfor (let i = 0;i < menuLink.length;i++) {\r\n  menuLink[i].addEventListener('click', function () {\r\n    removeBackSectionClass();\r\n    for (let k = 0;k < menuLink.length;k++) {\r\n      if (menuItem[k].querySelector('a').classList.contains('active')) {\r\n        addBackSectionClass(k);\r\n      }\r\n      menuLink[k].classList.remove('active');\r\n    }\r\n    this.classList.add('active');\r\n\r\n    showSection(this);\r\n\r\n  })\r\n}\r\nfunction removeBackSectionClass() {\r\n  section.forEach(item => {\r\n    item.classList.remove('back-section');\r\n  })\r\n}\r\nfunction addBackSectionClass(num) {\r\n  section[num].classList.add('back-section');\r\n}\r\nfunction showSection(element) {\r\n\r\n  let href = element.getAttribute('href').split('#')[1];\r\n\r\n  section.forEach(item => {\r\n    item.classList.remove('active');\r\n  })\r\n\r\n  document.querySelector(\"#\" + href).classList.add('active');\r\n\r\n}\r\n\r\n\r\n//hireMe\r\nfunction updateNav(element) {\r\n  for (let k = 0;k < menuLink.length;k++) {\r\n    menuLink[k].classList.remove('active');\r\n    let target = element.getAttribute('href').split('#')[1];\r\n    if (target === menuLink[k].getAttribute('href').split('#')[1]) {\r\n      menuLink[k].classList.add('active');\r\n    }\r\n  }\r\n}\r\n\r\ndocument.querySelector('.hire-me').addEventListener('click', function () {\r\n  const sectionIndex = this.getAttribute(\"data-section-index\");\r\n  showSection(this);\r\n  updateNav(this);\r\n  removeBackSectionClass();\r\n  addBackSectionClass(sectionIndex);\r\n})\r\n\r\n\r\n//changeLanguage\r\n\r\nconst selectLang = document.querySelector('.change-lang');\r\n\r\nlet lang = selectLang.checked;\r\n\r\nselectLang.addEventListener('change', changeLang);\r\n\r\nfunction changeLang() {\r\n  for (let key in langArr) {\r\n    if (selectLang.checked) {\r\n      document.querySelector('.lng-' + key).innerHTML = `${langArr[key]['en']}`;\r\n    } else {\r\n      document.querySelector('.lng-' + key).innerHTML = `${langArr[key]['ru']}`;\r\n    }\r\n  }\r\n}\r\n\r\n//form\r\nfunction send(event, php) {\r\n  console.log(\"Отправка запроса\");\r\n  event.preventDefault ? event.preventDefault() : event.returnValue = false;\r\n  var req = new XMLHttpRequest();\r\n  req.open('POST', php, true);\r\n  req.onload = function () {\r\n    if (req.status >= 200 && req.status < 400) {\r\n      json = JSON.parse(this.response); //\r\n      console.log(json);\r\n\r\n      // ЗДЕСЬ УКАЗЫВАЕМ ДЕЙСТВИЯ В СЛУЧАЕ УСПЕХА ИЛИ НЕУДАЧИ\r\n      if (json.result == \"success\") {\r\n        // Если сообщение отправлено\r\n        alert(\"Сообщение отправлено\");\r\n      } else {\r\n        // Если произошла ошибка\r\n        alert(\"Ошибка. Сообщение не отправлено\");\r\n      }\r\n      // Если не удалось связаться с php файлом\r\n    } else { alert(\"Ошибка сервера. Номер: \" + req.status); }\r\n  };\r\n\r\n  // Если не удалось отправить запрос. Стоит блок на хостинге\r\n  req.onerror = function () { alert(\"Ошибка отправки запроса\"); };\r\n  req.send(new FormData(event.target));\r\n};\r\n\r\n//cursor\r\nconst mouse = document.querySelector('.mouse');\r\nconst buttons = document.getElementsByTagName('button');\r\nconst inputs = document.getElementsByTagName('input');\r\nconst textarea = document.getElementsByTagName('textarea');\r\nconst links = document.getElementsByTagName('a');\r\nconst toggle = document.querySelector('.toggle');\r\nconst social = document.querySelectorAll('.home__social');\r\n\r\nfunction moveMouse(e) {\r\n  if (e.clientX < 5 || e.clientY < 5 || e.clientY > (window.innerHeight - 5) || e.clientX > (window.innerWidth - 5)) {\r\n    mouse.style.opacity = 0;\r\n  } else {\r\n    mouse.style.opacity = 1;\r\n    mouse.style.transform = `translate(${e.clientX - 15}px, ${e.clientY - 15}px)`;\r\n  }\r\n};\r\n\r\nif (window.innerWidth >= 768) {\r\n  document.addEventListener('mousemove', moveMouse);\r\n\r\n  [...menuItem, toggle, themeBtn, ...buttons, ...links, ...textarea, ...inputs, lightboxPrev, lightboxNext, lightboxClose, ...filterPortfolioItems].forEach(link => link.addEventListener('mouseover', () => { mouse.classList.add('links-visible') }));\r\n  [...menuItem, toggle, themeBtn, ...buttons, ...links, ...textarea, ...inputs, lightboxPrev, lightboxNext, lightboxClose, ...filterPortfolioItems].forEach(link => link.addEventListener('mouseleave', () => { mouse.classList.remove('links-visible') }));\r\n}"]}